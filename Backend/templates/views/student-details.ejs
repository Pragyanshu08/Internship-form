<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Resume - <%= student.firstName %> <%= student.lastName %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 50px;
      background-color: #f0eeee;
    }

    .container {
      background: #e0dfdf;
      width: 70%;
      margin: auto;
      padding: 30px;
      display: flex;
      justify-content: space-between;
      border-radius: 20px;
    }

    /* Left Side (Main Content) */
    .left-side {
      width: 60%;
      padding-right: 20px;
    }

    /* Right Side (Personal Info, Skills) */
    .right-side {
      width: 35%;
      padding-left: 20px;
      border-left: 2px solid #ddd;
      padding-top: 50px;
    }

    h1 {
      font-size: 30px;
      font-weight: bold;
      color: #111;
      margin: 0;
    }

    h2 {
      font-size: 18px;
      color: #0051a2;
      margin-top: 5px;
    }

    p {
      font-size: 15px;
      margin: 6px 0;
    }

    ul {
      padding-left: 20px;
      font-size: 15px;
    }

    .section {
      margin-top: 20px;
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: bold;
      color: #444;
      text-decoration: underline;
    }

    .contact-info p, .skills p {
      font-size: 14px;
      margin-bottom: 5px;
    }

    .skills ul {
      padding-left: 20px;
    }

    .skills li {
      margin-bottom: 10px;
    }

    .skills .skill-bar {
      height: 6px;
      background-color: #ccc;
      margin-top: 5px;
      border-radius: 3px;
    }

    .skill-level {
      height: 6px;
      border-radius: 3px;
    }

    .resume-link a {
      color: #0056cc;
      text-decoration: none;
    }

    .resume-link a:hover {
      text-decoration: underline;
    }

    .timestamp {
      margin-top: 30px;
      font-style: italic;
      color: #666;
      font-size: 13px;
    }

    .personal-info {
      margin-top: 20px;
    }

    .personal-info p {
      margin-bottom: 8px;
    }

    .section hr {
      margin: 10px 0;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- Left Side (Main Content) -->
    <div class="left-side">
      <h1><%= student.firstName %> <%= student.lastName || '' %></h1>
        <p><strong></strong> <%= student.address %></p>
        <hr />

      <!-- Work Experience -->
      <div class="section">
        <h2 class="section-title">Work Experience</h2>
        <% student.experiences?.forEach(exp => { %>
          <p><strong><%= exp.company_name %></strong> || <%= exp.position %></p>
          <p> <%= exp.duration %></p>
          <hr />
        <% }) %>
      </div>

      <!-- Projects -->
      <div class="section">
        <h2 class="section-title">Projects</h2>
        <% student.projects?.forEach(project => { %>
          <p><strong><%= project.project_name %> || <%= project.role %></strong></p>
          <p><%= project.desc %></p>
          <p><strong>Tech Used:</strong> <%= project.tech_uses %></p>
          <% if (project.project_link) { %>
            <p><strong>Link:</strong> <a href="<%= project.project_link %>" target="_blank"><%= project.project_link %></a></p>
          <% } %>
          <hr />
        <% }) %>
      </div>
    </div>

    <!-- Right Side (Personal Info, Skills, Resume) -->
    <div class="right-side">
      <div class="section">
        <h2 class="section-title">Skills</h2>
        <% student.skills?.forEach(skill => { %>
          <p><strong><%= skill.name %></strong></p>
          <div class="skill-bar">
            <div class="skill-level" style="width: <%= skill.level %>%"></div>
          </div>
        <% }) %>
        <hr>
      </div>

      <!-- Certifications (if available) -->
      <% if (student.certifications) { %>
        <div class="section">
          <h2 class="section-title">Certifications</h2>
          <p><%= student.certifications %></p>
        </div>
      <% } %>
      <hr>

      <!-- Education -->
      <div class="section">
        <h2 class="section-title">Education</h2>
        <% student.academicDetails?.forEach(edu => { %>
          <p><strong><%= edu. schoolInstitute %> | </strong> <%= edu.education %> || <%= edu.passYear %></p>
          <p><strong>Board:</strong> <%= edu.boardUniversity %></p>
          <p><strong>GPA/CGPA:</strong> <%= edu.percentage %></p>
          <br>
        <% }) %>
        <hr>
      </div>
    </div>
  </div>

</body>
</html>
